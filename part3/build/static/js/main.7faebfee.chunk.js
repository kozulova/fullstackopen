(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{20:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t(1),a=t.n(r),o=t(14),i=t.n(o),s=(t(20),t(3)),u=t(4),l=t.n(u),d=function(e){var n=e.person,t=e.deletePerson;return Object(c.jsx)("div",{children:Object(c.jsxs)("li",{className:"persons",children:[n.name," ",n.number,Object(c.jsx)("button",{onClick:function(){return t(n.id)},children:"delete"})]})})},j=function(e){var n=e.persons,t=e.deletePerson;return Object(c.jsx)("div",{children:n.map((function(e){return Object(c.jsx)(d,{person:e,deletePerson:t},e.id)}))})},b=function(e){return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{value:e.name,onChange:e.handleNameChange}),Object(c.jsx)("br",{}),"number: ",Object(c.jsx)("input",{value:e.number,onChange:e.handleNumberChange})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",onClick:e.addPerson,children:"add"})})]})})},h=function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"filter shown with "}),Object(c.jsx)("input",{type:"text",value:e.filter,onChange:e.handleFilter})]})},f=function(e){var n=e.message,t=e.error;return n?Object(c.jsx)("div",{className:"message",children:n}):t?Object(c.jsx)("div",{className:"message error",children:t}):null},O="/api/persons",m=function(){return l.a.get(O)},x=function(e){return l.a.post(O,e)},g=function(e,n){return l.a.put("".concat(O,"/").concat(e),n)},p=function(e){return l.a.delete("".concat(O,"/").concat(e))},v=function(){var e=Object(r.useState)([]),n=Object(s.a)(e,2),t=n[0],a=n[1],o=Object(r.useState)(""),i=Object(s.a)(o,2),u=i[0],l=i[1],d=Object(r.useState)(""),O=Object(s.a)(d,2),v=O[0],C=O[1],w=Object(r.useState)(""),P=Object(s.a)(w,2),N=P[0],S=P[1],k=Object(r.useState)(null),F=Object(s.a)(k,2),y=F[0],L=F[1],D=Object(r.useState)(null),T=Object(s.a)(D,2),B=T[0],E=T[1];Object(r.useEffect)((function(){m().then((function(e){a(e.data)}))}),[]),(y||B)&&setTimeout((function(){L(null),E(null)}),3e3);var I=N.length>0?t.filter((function(e){return e.name.toLowerCase().indexOf(N.toLowerCase())>-1})):t;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(f,{message:y,error:B}),Object(c.jsx)(h,{handleFilter:function(e){S(e.target.value)},filter:N}),Object(c.jsx)(b,{addPerson:function(e){e.preventDefault();var n={name:u,number:v},c=t.find((function(e){return e.name===u}));c?window.confirm("".concat(u," is already to phonebook, replace the old number with new one?"))&&(console.log(c.id),g(c.id,n).then((function(e){a(t.map((function(n){return n.id!==c.id?n:e.data})))}))):""===u||""===v?alert("Please add name and number"):x(n).then((function(e){a(t.concat(e.data)),L("".concat(u," was added to phonebook"))}));l(""),C("")},handleNameChange:function(e){l(e.target.value)},handleNumberChange:function(e){C(e.target.value)},name:u,number:v}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)(j,{persons:I,deletePerson:function(e){window.confirm("Delete ".concat(e))&&p(e).then((function(n){a(t.filter((function(n){return n.id!==e}))),console.log("deleted",t)})).catch((function(e){E(e.message)}))}})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,39)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),c(e),r(e),a(e),o(e)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root")),C()}},[[38,1,2]]]);
//# sourceMappingURL=main.7faebfee.chunk.js.map